<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assest/master.css">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script> 
    <script src="./jquery-3.2.1.min.js" type="text/javascript"></script>

    <title> Card Bank - for Iranian Number</title>
</head>
<body>
    <div class="cantainer">
        <h1>Payment Information</h1>

       <main>
            <div class="card-form">
                <div class="card-list">

                    <div class="front">

                        <div class="info row">
                            <div class="col-4 cvv d-flex" id="cvv-border">
                                <span>CVV2</span>
                                <h6 id="showCVV" class="p-1"></h6>
                            </div>
                            <div class="img-bank col-8 float-end">
                                <img id="img0" class="col-12 float-end" src="" alt="">
                            </div>
                        </div>


                        <h2 class="col-12 num-card" id="showNum">
                            <span id="num-card1">#</span>
                            <span id="num-card2">#</span>
                            <span id="num-card3">#</span>
                            <span id="num-card4">#</span>

                            <span class="num-card-space"> - </span>

                            <span id="num-card5">#</span>
                            <span id="num-card6">#</span>
                            <span id="num-card7">#</span>
                            <span id="num-card8">#</span>

                            <span class="num-card-space"> - </span>

                            <span id="num-card9">#</span>
                            <span id="num-card10">#</span>
                            <span id="num-card11">#</span>
                            <span id="num-card12">#</span>

                            <span class="num-card-space"> - </span>

                            <span id="num-card13">#</span>
                            <span id="num-card14">#</span>
                            <span id="num-card15">#</span>
                            <span id="num-card16">#</span>

                        </h2>

                        <div class="info row">
                            <div class="col-8" id="holder">
                                <span>card holder</span>
                                <h6 id="full-name">Humay Bahram</h6>
                            </div>

                            <div class="col-4" id="expiration">
                                <span>expiration</span>
                                <h6>
                                    <span id="showMonth">MM</span>
                                    <span >/</span>
                                    <span id="ShowYear">YY</span>
                                </h6>
                            </div>
                            
                        </div>
                    </div>

                    <div class="inner">
                        <div class="info row" id="showCVV">
                            <div class="col-4" id="cvv">
                                <span>CVV2</span>
                                <h4  maxlength="4"></h4>
                            </div>
                        </div>
                    </div>
                        
                </div>

                <form class="card-item">

                    <div class="items row">
                        <div class="col-12">
                            <label for="" class="form-label col-12">Name</label>
                            <input type="text"  class="col-12 inp-card col-12" id="name" onfocus="namefocuse()" onblur="nameblur()"/>
                        </div>
    
                        <div class="col-12">
                            <label for="" class="form-label col-12">card number</label>
                            <input type="text"  class="col-12 inp-card col-12" id="cardnumber"  onkeydown="get_check_num(event)"  onkeyup="check_number()" onfocus="numfocuse()" onblur="numblur()"
                         />
    
    
                         <p id="card_er" style="display: none; color: red;margin: 2% 0 0 0;background: #ffff0029;padding-right: 5%;">This number card is not Valid.</p>
                        </div>
    
                        <div class="col-4">
                            <label for="" class="form-label col-12">month </label>
                            <input type="text"  class="col-12 inp-card col-12" id="month" Maxlength="2"  onkeydown=" get_check_num(event)"   onkeyup="check_number();"
                         />
                        </div>

                        <div class="col-4">
                            <label for="" class="form-label col-12">year </label>
                            <select class="form-select" onchange="selectYear(this)">
                                <option id="get-year" selected value="00">Choose</option>
                                <option value="01">01</option>
                                <option value="02">02</option>
                                <option value="03">03</option>
                                <option value="04">04</option>
                                <option value="05">05</option>
                                <option value="06">06</option>
                                
                              </select>
                        </div>
    
                        <div class="col-4">
                            <label for="" class="form-label col-12">CVV2</label>
                            <input type="text"  class="col-12 inp-card col-12" id="getCVV" maxlength="4" onkeydown="get_check_num(event)"  onfocus="cvvfocuse()" onblur="cvvblur()"/>
                        </div>

                        <button type="button" class="btn btn-primary col-12">Submit</button>
                    </div>
                </form>
            </div>
       </main>
       <h4>Developer: 
        <a href="http://humayb.com/">Homa Bahramparvar</a>
    </h4>
    </div>

</body>

<script>


// ------------------------------->> Number Card <<---------------------------


let _showNum = document.getElementById('showNum')
let _InpNumCard  = document.getElementById('cardnumber')


    _InpNumCard.addEventListener('input', (e)=>{ 
        for (let c=1; c<17; c++){

            let _span = document.getElementById('num-card'+c);
           _span.innerHTML = '#';

            let _num =_InpNumCard.value;

            if(_num[c-1]){
               _span.innerHTML=_num[c-1];
            }
        }

    })


    function check_number() {
        _InpNumCard.value
        document.getElementById('card_er').style.display='none';
        function validateCard(code) {
            let L = code.length;
            if (L < 16 || parseInt(code.substr(1, 10), assest/images/10) == 0 || parseInt(code.substr(10, 6), 10) == 0) return false;
            let c = parseInt(code.substr(15, 1), 10);
            let s = 0;
            let k, d;
            for (let i = 0; i < 16; i++) {
                k = (i % 2 == 0) ? 2 : 1;
                d = parseInt(code.substr(i, 1), 10) * k;
                s += (d > 9) ? d - 9 : d;
            }
            return ((s % 10) == 0);
        }

        

        if (validateCard(_InpNumCard.value) === false) document.getElementById('card_er').style.display='block';
        var number = _InpNumCard.value.substring(6,-16);
        var imgToSwap = document.getElementById("img0");

        if(number === '603799'){
            imgToSwap.src = "assest/images/meli.png";
            document.getElementsByClassName("front")[0].style.background = "#d88132";  
        }
        if(number === '589210'){
            imgToSwap.src = "assest/images/sepah.png";
            document.getElementsByClassName("front")[0].style.background = "#0072bb";  
        }
        if(number === '627961'){
            imgToSwap.src = "assest/images/sanatmadan.png";
            document.getElementsByClassName("front")[0].style.background = "#283172";  
        }
        if(number === '603770'){
            imgToSwap.src = "assest/images/keshavarsi.png";
            document.getElementsByClassName("front")[0].style.background = "#a9c489";  
        }
        if(number === '628023'){
            imgToSwap.src = "assest/images/maskan.png";
            document.getElementsByClassName("front")[0].style.background = "#c27b62";  
        }
        if(number === '627760'){
            imgToSwap.src = "assest/images/postbank.png";
            document.getElementsByClassName("front")[0].style.background = "#d4f8fc";  
        }
        if(number === '502908'){
            imgToSwap.src = "assest/images/tosehe.png";
            document.getElementsByClassName("front")[0].style.background = "#77c0c1";  
        }
        if(number === '627412'){
            imgToSwap.src = "assest/images/eghtesad.png";
            document.getElementsByClassName("front")[0].style.background = "#c563ce";  
        }
        if(number === '622106'){
            imgToSwap.src = "assest/images/parsian.png";
            document.getElementsByClassName("front")[0].style.background = "#cc2431";  
        }
        if(number === '502229'){
            imgToSwap.src = "assest/images/pasargad.png";
            document.getElementsByClassName("front")[0].style.background = "#0072bb";  
        }
        if(number === '627488'){
            imgToSwap.src = "assest/images/karafarin.png";
            document.getElementsByClassName("front")[0].style.background = "#0072bb";  
        }
        if(number === '621986'){
            imgToSwap.src = "assest/images/saman.png";
            document.getElementsByClassName("front")[0].style.background = "#0072bb";  
        }
        if(number === '639346'){
            imgToSwap.src = "assest/images/sina.png";
            document.getElementsByClassName("front")[0].style.background = "#0072bb";  
        }
        if(number === '639607'){
            imgToSwap.src = "assest/images/sarmaye.png";
            document.getElementsByClassName("front")[0].style.background = "#0072bb";  
        }
        if(number === '502806'){
            imgToSwap.src = "assest/images/shahr.png";
            document.getElementsByClassName("front")[0].style.background = "#ff9077";  
        }
        if(number === '502938'){
            imgToSwap.src = "assest/images/day.png";
            document.getElementsByClassName("front")[0].style.background = "#aaebf4";  
        }
        if(number === '603769'){
            imgToSwap.src = "assest/images/saderat.png";
            document.getElementsByClassName("front")[0].style.background = "#aebbce";  
        }
        if(number === '610433'){
            imgToSwap.src = "assest/images/mellat.png";
            document.getElementsByClassName("front")[0].style.background = "#f5cbcc";  
        }
        if(number === '627353'){
            imgToSwap.src = "assest/images/tejarat.png";
            document.getElementsByClassName("front")[0].style.background = "#1fbdc6";  
        }
        if(number === '589463'){
            imgToSwap.src = "assest/images/refah.png";
            document.getElementsByClassName("front")[0].style.background = "#bfb9bb";  
        }

        if(number === '639599'){
            imgToSwap.src = "assest/images/ghavamin.png";
            document.getElementsByClassName("front")[0].style.background = "#d18676";  
        }
        if(number === '504172'){
            imgToSwap.src = "assest/images/resalat.png";
            document.getElementsByClassName("front")[0].style.background = "#f0f0f0";  
        }
        if(number === '636214'){
            imgToSwap.src = "assest/images/ayandeh.png";
            document.getElementsByClassName("front")[0].style.background = "#d0a03a";
        }

    }
    function get_check_num(e){
        if (e.keyCode == 8 || (e.keyCode >= 48 && e.keyCode <= 57) || (e.keyCode >= 96 && e.keyCode <= 105)) { 
            // 0-9 only
            return true;
        }
        e.preventDefault();
        return false;          
    }

    function get_check_word(e){
        if (e.keyCode == 8 || (e.keyCode >= 48 && e.keyCode <= 57) || (e.keyCode >= 96 && e.keyCode <= 105)) { 
            // 0-9 only
            return false;
        }
        e.preventDefault();
        return true;   
    }

    function numfocuse(){
        document.getElementById('showNum').style.border = '2px solid black'

    }

    function numblur(){
        document.getElementById('showNum').style.border = 'none'
    }
// ------------------------------->> Name <<---------------------------

    let _name = document.getElementById('name')
    let _showName = document.getElementById('full-name')


        _name.addEventListener('input', e =>{
            let nameUser = e.target.value
            _showName.innerHTML = nameUser
        })

    function namefocuse(){
        document.getElementById('holder').style.border = '2px solid black';
    }
    function nameblur(){
        document.getElementById('holder').style.border = 'none';
    }

        

// ------------------------------->> month <<---------------------------

    let _month = document.getElementById('month')
    let _showMonth = document.getElementById('showMonth')

        _month.addEventListener('input', e =>{
            let monthUser = e.target.value.trim();
            _showMonth.innerHTML = monthUser
            if(!monthUser) {
            // if  (monthUser == '' || monthUser == " " || monthUser == null) {
                _showMonth.innerHTML = "MM"
            }
        })

// ------------------------------->> Year <<---------------------------

        function selectYear(element){
            document.getElementById('ShowYear').innerHTML =  element.value;
        }


// ------------------------------->> Securety Code <<---------------------------

let _CVV = document.getElementById('getCVV')
    let _showCVV = document.getElementById('showCVV')

        _CVV.addEventListener('input', e =>{
            let CVVUser = e.target.value.trim();
            _showCVV.innerHTML = CVVUser
        })

    function cvvfocuse(){
        document.getElementById('cvv-border').style.border = '2px solid black';
    }
    function cvvblur(){
        document.getElementById('cvv-border').style.border = 'none';
    }

</script>
</html>


